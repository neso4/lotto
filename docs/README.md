# 미션 - 로또

### 🔍기능 목록
- [x] 입력받은 금액만큼 로또를 발행한다.
   - [x] 하나의 로또는 1~45 의 서로 다른 6개 숫자를 발행한다.
   - [x] 발행된 번호는 오름차순으로 정렬된다.
   - [x] 1000원 단위 입력이 아닌 경우 오류가 발생한다.
   - [x] 숫자가 아닌 경우 오류가 발생한다.
- [x] 당첨 번호, 보너스 번호와 발행한 번호를 비교한다.
- [x] 당첨금과 구매 금액을 비교해 수익률을 산출한다.
- [x] 오류가 발생하면 에러 메세지 출력 후 함수를 재실행한다.

---

### 🚀 기능 요구 사항

로또 게임 기능을 구현해야 한다. 로또 게임은 아래와 같은 규칙으로 진행된다.

```
- 로또 번호의 숫자 범위는 1~45까지이다.
- 1개의 로또를 발행할 때 중복되지 않는 6개의 숫자를 뽑는다.
- 당첨 번호 추첨 시 중복되지 않는 숫자 6개와 보너스 번호 1개를 뽑는다.
- 당첨은 1등부터 5등까지 있다. 당첨 기준과 금액은 아래와 같다.
    - 1등: 6개 번호 일치 / 2,000,000,000원
    - 2등: 5개 번호 + 보너스 번호 일치 / 30,000,000원
    - 3등: 5개 번호 일치 / 1,500,000원
    - 4등: 4개 번호 일치 / 50,000원
    - 5등: 3개 번호 일치 / 5,000원
```

- 로또 구입 금액을 입력하면 구입 금액에 해당하는 만큼 로또를 발행해야 한다.
- 로또 1장의 가격은 1,000원이다.
- 당첨 번호와 보너스 번호를 입력받는다.
- 사용자가 구매한 로또 번호와 당첨 번호를 비교하여 당첨 내역 및 수익률을 출력하고 로또 게임을 종료한다.
- 사용자가 잘못된 값을 입력할 경우 `IllegalArgumentException`를 발생시키고, "[ERROR]"로 시작하는 에러 메시지를 출력 후 그 부분부터 입력을 다시 받는다.
    - `Exception`이 아닌 `IllegalArgumentException`, `IllegalStateException` 등과 같은 명확한 유형을 처리한다.

---

### 🎯 프로그래밍 요구 사항

- [x] 프로그램 구현이 완료되면 `ApplicationTest`의 모든 테스트가 성공해야 한다.
- [x] indent(인덴트, 들여쓰기) depth를 3이 넘지 않도록 구현한다. 2까지만 허용한다.
- [x] 3항 연산자를 쓰지 않는다.
- [x] 함수(또는 메서드)가 한 가지 일만 하도록 최대한 작게 만들어라.
- [x] JUnit 5와 AssertJ를 이용하여 본인이 정리한 기능 목록이 정상 동작함을 테스트 코드로 확인한다.
- [x] 함수(또는 메서드)의 길이가 15라인을 넘어가지 않도록 구현한다
   - 함수(또는 메서드)가 한 가지 일만 잘 하도록 구현한다.
- [x] else 예약어를 쓰지 않는다.
   - 힌트: if 조건절에서 값을 return하는 방식으로 구현하면 else를 사용하지 않아도 된다.
   - else를 쓰지 말라고 하니 switch/case로 구현하는 경우가 있는데 switch/case도 허용하지 않는다.
- [x] Java Enum을 적용한다.
- [x] 도메인 로직에 단위 테스트를 구현해야 한다. 단, UI(System.out, System.in, Scanner) 로직은 제외한다.
   - 핵심 로직을 구현하는 코드와 UI를 담당하는 로직을 분리해 구현한다.
   - 단위 테스트 작성이 익숙하지 않다면 `test/java/lotto/LottoTest`를 참고하여 학습한 후 테스트를 구현한다.

#### 라이브러리
- [x] `camp.nextstep.edu.missionutils`에서 제공하는 `Randoms` 및 `Console` API를 사용하여 구현해야 한다.
    - Random 값 추출은 `camp.nextstep.edu.missionutils.Randoms`의 `pickUniqueNumbersInRange()`를 활용한다.
    - 사용자가 입력하는 값은 `camp.nextstep.edu.missionutils.Console`의 `readLine()`을 활용한다.

---

### 피드백 요구 사항
- [x] 기능 목록은 계속해서 업데이트
   - [x] 예외적인 사항도 기능 목록에 정리 및 업데이트
   - [x] 기능 목록은 너무 상세히 하지 않고 필수적인 기능만 정리
- [x] 값 하드 코딩 금지
   - [x] 상수 사용
   - [x] 변수의 이름으로 역할 및 의도 표시
- [x] 구현 순서 지키기(상수, 멤버 변수, 생성자, 메서드 순)
- [x] 변수 이름에 자료형 사용 금지
- [x] 테스트는 작은 단위부터 큰 단위로 구현

---

### ✏️ 패치 노트

#### - 2023/10/31
- README.md 생성
    - 기능 요구사항을 명시했습니다.
    - 프로그래밍 요구 사항을 명시했습니다.
######      comment
    우선 기능요구사항과 프로그래밍 요구사항만을 정리해 명시했습니다.
    기능 목록은 요구사항 관련 학습 후 정리해 작성 예정입니다.

#### - 2023/11/03
- README.md 수정
  - 기능 사항을 명시했습니다.
######      comment
    기능 목록을 명시했습니다.

#### - 2023/11/03
- 작성할 코드의 기본 뼈대 생성
######      comment
    일단 제가 생각하는 기본적인 뼈대를 구성했습니다. 되도록 이대로 진행되면 좋겠네요.

#### - 2023/11/06
- 입력받은 금액만큼 로또 발행 기능 구현
######      comment
    일급컬렉션을 좀 더 잘 써보고 싶은데 생각처럼 되지 않았습니다.
    List<List<Integer>> 이걸 List<Lotto>로 하려고 노력했으나 아직 방법을 찾지 못했습니다.
    우선 우테코에서 말했던 것처럼 작동하는 쓰레기라도 구현하려고 합니다.
    기간 내에 방법을 찾지 못하더라도 제출 후 공유되는 다른 코드를 보며 공부해보려 합니다.

#### - 2023/11/07
- 당첨 번호 입력 구현
######      comment
    당첨 번호 입력받는 것을 구현했습니다.
    제대로인지는 모르겠으나 일급컬렉션 값을 받는 방법을 찾았습니다.
    다음 기능 구현 전 로또 발행 기능에 대한 리팩토링을 우선 진행할 것 같습니다.

#### - 2023/11/07
- 로또 발행 기능 리팩토링
######      comment
    로또 발행 기능에 리팩토링이 진행되었습니다.
    List<List<Integer>> -> List<Lotto> 가 드디어 됐습니다.
    일부 하드코딩된 메시지가 상수화 되었습니다.

#### - 2023/11/08
- 당첨 번호, 보너스 번호와 발행한 번호를 비교하는 기능 구현
######      comment
    발행된 로또의 당첨 여부를 얻는 기능이 구현되었습니다.
    테스트로 몇 번 돌려봤는데 역시 복권 기대값은 굉장히 낮은 것 같습니다.

#### - 2023/11/08
- 수익률 산출 기능 구현
######      comment
    로또 구매 금액과 당첨 금액의 수익률 산출 기능이 구현되었습니다.
    다음 패치는 테스트 코드 위주로 이루어질 예정입니다.

#### - 2023/11/08
- 테스트코드 java.lang.UnsupportedOperationException 버그 해결
- 불필요한 함수 제거
######      comment
    초기화하지 않은 ArrayList 로 인한 버그를 해결했습니다.
    사용하지 않는 함수를 제거했습니다.

#### - 2023/11/08
- controller 구조 개선
######      comment
    controller 에 있는 메소드를 분리했습니다.
    이제 각 controller 메인 메소드에는 필요한 모델과 뷰만 포함됩니다.

#### - 2023/11/08
- Lotto 테스트 구현
######      comment
    Lotto에 관한 테스트가 구현되었습니다.

#### - 2023/11/08
- BonusNumber 테스트 구현
######      comment
    BonusNumber에 관한 테스트가 구현되었습니다.

#### - 2023/11/08
- PurchaseLotto 테스트 구현
######      comment
    로또 발행 테스트 구현이 완료되었습니다.

#### - 2023/11/08
- WinningLotto 테스트 구현
######      comment
    로또 당첨 테스트가 구현되었습니다.
    현재 구현된 모든 기능에 대한 테스트가 완료되었습니다.

#### - 2023/11/08
- 구매 금액 범위 확장
######      comment
    구매 금액 Type을 int -> long 으로 바꿨습니다.
    이제 더 많은 로또를 살 수 있습니다.