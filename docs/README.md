# 📑 기능명세서

## 🗂️ 패키지 구조 & 클래스 목록

<table>
<thead>
  <tr>
    <th>패키지</th>
    <th>클래스 명</th>
    <th>역할 및 책임</th>
  </tr>
</thead>
<tbody>
  <tr>
    <td ><b>controller</b></td>
    <td ><b>Game</b></td>
    <td >전체 게임의 흐름을 관리하는 컨트롤러 클래스</td>
  </tr>
  <tr>
    <td rowspan="9"><b>domain</b></td>
    <td><b>Cash</b></td>
    <td><span style="font-weight:400;font-style:normal">구매자가 지불할 금액 관련 로직을 담당하는 도메인 클래스</span></td>
  </tr>
  <tr>
    <td><b>Customer</b></td>
    <td>로또 판매자에게 금액을 지불하고 로또를 구매하는 역할을 수행하는 도메인 클래스</td>
  </tr>
  <tr>
    <td><b>Lotto</b></td>
    <td>로또 번호 관련 로직을 담당하는 도메인 클래스</td>
  </tr>
  <tr>
    <td><b>LottoSeller</b></td>
    <td>로또를 생성하고 판매하는 로직을 담당하는 도메인 클래스</td>
  </tr>
  <tr>
    <td><b>BonusNumber</b></td>
    <td>보너스 숫자 관련 로직을 담당하는 도메인 클래스</td>
  </tr>
  <tr>
    <td><b>Profit</b></td>
    <td>수익 관련 로직을 담당하는 도메인 클래스</td>
  </tr>
  <tr>
    <td><b>Rank</b></td>
    <td>당첨 순위 관련 로직을 담당하는 도메인 클래스</td>
  </tr>
  <tr>
    <td><b>WinningRanks</b></td>
    <td>당첨 순위를 계산하는 로직을 담당하는 도메인 클래스</td>
  </tr>
  <tr>
    <td><b>WinningYield</b></td>
    <td>수익률을 계산하는 로직을 담당하는 도메인 클래스</td>
  </tr>
  <tr>
    <td rowspan="3"><b>dto</b></td>
    <td><b>Lottos</b></td>
    <td>로또 리스트를 저장하는 일급 컬렉션</td>
  </tr>
  <tr>
    <td><b>Ranks</b></td>
    <td>순위 리스트를 저장하는 일급 컬렉션</td>
  </tr>
  <tr>
    <td><b>WinningNumbers</b></td>
    <td>당첨 로또 번호와 보너스 번호를 저장하는 클래스</td>
  </tr>
  <tr>
    <td rowspan="2"><b>exception</b></td>
    <td><b>ErrorMessage</b></td>
    <td>에러 원인에 해당하는 메시지를 관리하는 Enum 클래스</td>
  </tr>
  <tr>
    <td><b>LottoGameException</b></td>
    <td>로또 게임의 전체 에러를 관리하는 커스텀 에러 클래스</td>
  </tr>
  <tr>
    <td rowspan="2"><b>util</b></td>
    <td><b>LottoConstants</b></td>
    <td>로또 관련 상수를 관리하는 Enum 클래스</td>
  </tr>
  <tr>
    <td><b>LottoNumberGenerator</b></td>
    <td>랜덤한 6개의 로또 번호를 생성하는 유틸 클래스</td>
  </tr>
  <tr>
    <td rowspan="2"><b>view</b></td>
    <td><b>InputView</b></td>
    <td>사용자 입력 관련 로직을 담당하는 뷰 클래스</td>
  </tr>
  <tr>
    <td><b>OutputView</b></td>
    <td>결과 출력 관련 로직을 담당하는 뷰 클래스</td>
  </tr>
</tbody>
</table>

## 🔗 클래스 다이어그램

![lotto](https://github.com/woowacourse-precourse/java-lotto-6/assets/76910498/7c3cd57f-363f-44fe-80c1-1598cb5bf6b5)

## 📝 구현 기능 목록

### ⚙️ Controller Layer

- [X]  게임을 세팅한다.
    - [X]  로또를 생성한다.
    - [X]  로또 구매자를 생성한다.
    - [X]  로또 판매자를 생성한다.
    - [X]  당첨번호와 보너스 번호를 생성한다.
- [X]  게임을 진행한다.
    - [X]  잘못된 값을 입력시 에러 메시지를 출력하고 해당 데이터를 재입력.
    - [X]  로또를 구매한다.
    - [X]  당첨 통계를 계산한다.
        - [X]  당첨 내역을 계산한다.
        - [X]  수익률을 계산한다.
- [X]  게임을 종료한다.
    - [X]  Scanner 를 반환한다.

### 📦 Domain Layer

- [X]  로또 번호를 발행한다.
    - [X]  로또 번호는 6개만 허용한다.
    - [X]  로또 번호는 중복을 허용하지 않는다.
    - [X]  로또 번호는 1~45 사이의 숫자만 허용한다.
    - [X]  로또는 오름차순으로 정렬한다.
- [X] 로또를 구매한다.
- [X]  구입금액을 생성한다.
    - [X]  구매금액은 1000원 단위만 허용한다.
- [X]  당첨 번호를 저장한다.
    - [X]  당첨번호는 6개만 허용한다.
    - [X]  당첨번호는 중복을 허용하지 않는다.
    - [X]  당첨번호는 1~45 사이의 숫자만 허용한다.
- [X]  보너스 번호를 저장한다.
    - [X]  입력은 정수만 허용한다.
    - [X]  1~45 사이의 정수만 허용한다.
    - [X]  당첨 번호와 중복될 수 없다.
- [X]  당첨 통계를 계산한다.
    - [X]  수익률을 계산한다.
        - [X]  수익률은 소수점 둘째 자리에서 반올림한다.
        - [X]  수익은 모든 당첨금을 더하여 계산한다.
    - [X]  당첨 내역을 계산한다.
        - [X]  매칭 규칙에 맞는 랭크를 반환한다.

### 🖥️ View Layer

- [X]  구입 금액 입력 UI를 출력한다.
    - [X]  구입 금액 사용자 입력을 처리한다.
        - [X] 구입 금액은 정수만 입력할 수 있다.
        - [X] 구입 금액은 양의 정수만 입력할 수 있다.
- [X]  구매한 로또 UI를 출력한다.
- [X]  당첨 번호 입력 UI를 출력한다.
    - [X]  당첨 번호 사용자 입력을 처리한다.
        - [X]  공백을 제거한다.
        - [X]  입력은 정수만 허용한다.
        - [X]  콤마가 연속으로 나오거나 비어있는 데이터는 허용하지 않는다.
        - [X]  입력의 마지막이 콤마는 허용하지 않는다.
        - [X]  정수는 6개만 입력할 수 있다.
- [X]  보너스 번호 UI를 출력한다.
    - [X]  보너스 번호 UI 사용자 입력을 처리한다.
        - [X] 공백을 제거한다.
        - [X] 한 개의 정수만 입력할 수 있다.
        - [X] 양수의 정수만 입력할 수 있다.
- [X]  당첨 통계를 출력한다.
    - [X]  당첨 내역을 출력한다.
    - [X]  수익률을 출력한다.
- [X]  예외 상황시 에러 문구를 출력한다.
    - [X]  에러문구는 [ERROR] 로 시작한다.

### 🛠️ Util

- [X] 범위 내의 랜덤한 6개의 로또 번호를 생성한다.
- [X] 로또 관련 상수를 제공한다.

### ⚠️ Exception

- [X] 각 에러 원인에 대한 적절한 메시지를 제공한다.