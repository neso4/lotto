# 📝 기능 목록

### Flow
```mermaid
graph TD
A[로또는 1에서 45 사이의 서로 다른 6개의 수로 구성되어 있다.]
 --> B[사용자는 여러 장의 로또를 구매할 수 있다.]
 
B -->
 C[구매한 로또 번호는 랜덤으로 생성된다.]
 
C -->
 D[당첨 로또 번호를 생성한다.]
 
D -->
 E[구매한 로또와 당첨 로또 번호를 비교한다.]
 
E -->
 F[당첨 통계를 출력한다.]

F -->
 G[당첨 금액의 총액과 구매 금액을 비교해 수익률을 %로 출력한다.]
```

---


### 🔨 &nbsp;입력 기능
🌟 사용자가 입력하는 값은 `camp.nextstep.edu.missionutils.Console`의 `readLine()`을 활용한다. <br>
<br>

- ✅ 로또 구매 금액을 입력받는다.
  - ✅ <span style ="color:yellow">⚠️</span> &nbsp; 문자열과 숫자가 섞여있으면 예외를 발생시킨다.
- ✅ 당첨 번호를 입력 받는다. 번호는 쉼표(,)를 기준으로 구분한다.
- ✅ 보너스 번호를 입력 받는다.
- ✅ 예외가 발생한다면, 그 부분부터 다시 입력받는다.
- ✅ 조건에 해당하지 않는다면 예외를 발생시킨다.
  - ✅ <span style ="color:yellow">⚠️</span> &nbsp;입력이 비어있으면 예외를 발생시킨다.
  - ✅ <span style ="color:yellow">⚠️</span> &nbsp;입력이 공백이면 예외를 발생시킨다.
  - ✅ <span style ="color:yellow">⚠️</span> &nbsp;입력이 숫자가 아니면 예외를 발생시킨다.



<br>

---  
### 🔨 &nbsp;출력 기능
- ✅ 구매한 로또 갯수를 출력한다.
- ✅ 구매한 로또 번호는 오름차순으로 출력한다.
- ✅ 당첨 통계를 출력한다.
  - ex) `3개 일치 (5,000원) - 10개`
  - ex) `4개 일치 (50,000원) - 2개`
  - ex) `5개 일치 (1,500,000원) - 1개`
  - ex) `5개 일치, 보너스 볼 일치 (30,000,000원) - 0개`
  - ex) `6개 일치 (2,000,000,000원) - 0개`
- ✅ 구매자의 구매 금액과 총 당첨금액의 수익률을 계산해서 출력한다.
  - 소수점 둘째 자리에서 반올림 한다. ex) `10.5%`
- ✅ 예외 발생 시 출력 문구는 `[ERROR]`로 시작한다.
  - ex) `[ERROR] 예외 발생했어요.`
<br>

---  
### 🛠️ &nbsp;핵심 기능
- ✅ 무작위 수 6개를 생성한다.
  - ✅ Random 값은 `camp.nextstep.edu.missionutils.Randoms`의 `pickUniqueNumbersInRange()` 를 활용한다.
- ✅ 로또를 구성하는 6개의 숫자는 서로 다른 수이다.
  - ✅ <span style ="color:yellow">⚠️</span> &nbsp;수가 6개가 아니면 예외를 발생시킨다.
  - ✅ <span style ="color:yellow">⚠️</span> &nbsp;로또 번호(당첨 번호, 보너스 번호)가 1~45 사이에 해당하지 않으면 예외를 발생시킨다.
  - ✅ <span style ="color:yellow">⚠️</span> &nbsp;6개의 수 중에서 중복이 있으면 예외를 발생시킨다.
  - ✅ 로또 번호는 오름차순으로 정렬한다.
- ✅ 사용자는 입력한 금액/1000 만큼 로또를 생성한다.
  - ✅ <span style ="color:yellow">⚠️</span> &nbsp; 1,000원보다 적으면 예외를 발생시킨다.
  - ✅ <span style ="color:yellow">⚠️</span> &nbsp; 1,000원 단위로 입력 받으며 1,000원으로 나누어 떨어지지 않는 경우 예외를 발생시킨다.
- ✅ 사용자는 보너스 볼을 생성한다.
  - ✅ <span style ="color:yellow">⚠️</span> &nbsp; 보너스 숫자는 당첨 번호와 중복되면  예외를 발생시킨다.
- ✅ 당첨 로또 번호를 생성한다.
- ✅ 당첨 로또 번호와 사용자가 구매한 로또 번호와 비교한다.
  - ✅ 3개가 일치하면, 3개가 일치하는 count를 하나 증가시킨다.
  - ✅ 4개가 일치하면, 4개가 일치하는 count를 하나 증가시킨다.
  - ✅ 5개가 일치하면, 5개가 일치하는 count를 하나 증가시킨다.
  - ✅ 5개가 일치하는데 1개가 보너스 숫자 이면 이에 해당하는 count를 하나 증가시킨다.
  - ✅ 6개가 일치하면, 6개가 일치하는 count를 하나 증가시킨다.
- ✅ 저장된 당첨 지표를 확인해서 당첨 당첨 금액을 계산하고 구매 금액과 비교해서 총 수익률을 계산한다.
- ✅ 중간에 예외가 발생하면 프로그램을 종료하지 않는다.
  - ✅ 발생한 부분부터 다시 이어서 진행한다.
  
<br>

---  
### <span style ="color:yellow">⚠️</span> &nbsp;예외 처리
- 사용자의 입력이 유효하지 않다면
  <span style ="color:red">IllegalArgumentException</span> 을 발생시키고 프로그램은 종료된다.
- 예외를 전부 `IllegalArgumentException`를 사용하지 않고 상황에 맞는 유형으로 처리한다.

<br>

---
### <span style ="color:green">✚</span> &nbsp; 프로그래밍 요구 사항
- ✅ indent는 2까지만 허용한다.
- ✅ 명시하지 않는 파일, 패키지 이름을 수정하거나 이동하지 않는다.
  - `Lotto`의 필드는 추가할 수 없다.
- ✅ 3항 연산자를 쓰지 않는다.
- ✅ 함수(또는 메서드)의 길이가 15라인을 넘어가지 않도록 구현한다.
- ✅ 함수(또는 메서드)가 한 가지 일만 잘 하도록 구현한다.
- ✅ else 예약어를 쓰지 않는다.
  - else를 쓰지 말라고 하니 switch/case로 구현하는 경우가 있는데 `switch/case도 허용하지 않는다.`
- ✅ Java Enum을 적용한다.
- ✅ `도메인 로직에 단위 테스트를 구현` 해야 한다. 단, UI(System.out, System.in, Scanner) 로직은 제외한다.
  - `핵심 로직을 구현하는 코드와 UI를 담당하는 로직을 분리` 해 구현한다.
  - JUnit 5와 AssertJ를 이용하여 본인이 정리한 기능 목록이 정상 동작함을 테스트 코드로 확인한다