# 💰 로또 🎟️

## ⚖️ 게임 규칙 🧑🏻‍⚖️

- 로또 번호
    - 로또 번호의 숫자 범위는 1~45까지이다.
    - 1개의 로또를 발행할 때 중복되지 않는 6개의 숫자를 뽑는다.
- 당첨 로또
    - 로또 번호의 숫자 범위는 1~45까지이다.
    - 1개의 당첨 로또를 발행할 때 중복되지 않는 6개의 숫자를 뽑는다.
    - 6개와 중복되지 않는 보너스 번호를 뽑는다. 
- 당첨 기준과 당첨 시 받는 금액
    - 1등: 6개 번호 일치 / 2,000,000,000원
    - 2등: 5개 번호 + 보너스 번호 일치 / 30,000,000원
    - 3등: 5개 번호 일치 / 1,500,000원
    - 4등: 4개 번호 일치 / 50,000원
    - 5등: 3개 번호 일치 / 5,000원
- 로또 구매
    - 로또는 1장 당 1,000원이다.
    - 입력한 모든 금액을 로또 사는 데에 사용한다.


## ⌨️ 입력

- 1,000원 단위로 구매 금액을 입력받는다.(1,000원 단위로 나누어 떨어진다.)
    - 1,000원으로 나누어 떨어지지 않는다면 예외를 발생시킨다.
- 당첨 번호를 (,)로 구분하여 입력받는다.
    - 숫자 입력이 6개의 숫자로 구성 되지 않은 경우 예외를 발생시킨다.
- 각각의 값이 범위의 값이 아닌 경우 예외를 발생시킨다.
    - 구분된 값이 숫자가 아닌 경우 예외를 발생시킨다.
    - 중복된 숫자를 입력한 경우 예외를 발생시킨다.
- 보너스 번호를 입력받는다.
    - 숫자가 아닌 경우 예외를 발생시킨다.
    - 범위의 값이 아닌 경우 예외를 발생시킨다.
    - 당첨 번호와 중복된 값을 가지는 경우 예외를 발생시킨다.

## 🖥️ 출력

- 금액에 알맞게 발행한 로또 수와 각 로또의 번호를 형식에 맞추어 출력한다.
    - 로또 번호는 오름차순으로 정렬한다.
- 당첨 내역을 출력한다.
    - 낮은 금액부터 오름차순으로 정렬한다.
- 수익률을 출력한다.
    - 수익률은 소수점 둘째 자리에서 반올림한다.
    - 천 단위로 (,)를 사용하여 금액을 표기한다.
- 예외 상황 발생 시 에러 문구를 출력한다.
    - 에러 문구는 [ERROR]로 시작한다.


## ⚙️ 기능 구현

### 입력 기능을 구현한다. -> InputView

- [x] 구매 금액을 입력한다.
- [x] 당첨 번호를 입력한다.
- [x] 보너스 번호를 입력한다.

### 출력 기능을 구현한다. -> OutputView

- [x] 에러 메시지를 출력한다.
- [ ] 구매한 랜덤 로또 정보를 출력한다.
- [ ] 당첨 내역을 출력한다.
- [ ] 수익률을 출력한다.

### view와 domain간 간접 연결을 하여 로또 프로그램을 전체적으로 진행하도록 구현한다. -> LottoController

- [ ] view에서 받아온 값들을 검증하고 예외가 발생시 다시 view에 입력을 요청하도록 구현한다.
    - [ ] 예외 발생시 catch 하여 [ERROR] 를 포함하는 메시지를 출력하도록 요청한다.
- [ ] 로또의 금액을 입력받아 와서 그에 해당하는 만큼 로또를 생성하도록 요청 및 생성 결과를 출력한다.
- [ ] 당첨 로또를 구성하는 숫자들과 보너스 숫자를 입력받아 와서 당첨 로또를 생성하도록 요청한다.
- [ ] 당첨 결과와 수익률을 받아와서 출력하도록 요청한다.

### 입력된 문자열을 알맞게 변환하는 기능을 구현한다. -> Converter

- [ ] 입력 금액 문자열에서 숫자로 변환한다.
    - [x] 숫자로 변환할 수 없다면 예외를 발생시킨다.
    - [ ] 유효하지 않은 입력 금액에 대해서 예외를 발생시킨다.
- [ ] 로또 번호 문자열에서 숫자 리스트로 변환한다.
    - [x] 숫자 리스트로 변환할 수 없다면 예외를 발생시킨다.
    - [ ] 유효하지 않은 로또 번호들에 대해 예외를 발생시킨다.
- [ ] 보너스 번호 문자열에서 숫자로 변환한다. 
  - [x] 숫자로 변환할 수 없다면 예외를 발생시킨다.
  - [ ] 유효하지 않은 보너스 숫자에 대해서 예외를 발생시킨다.

### 입력된 문자열들을 제한 사항에 맞추어 검증을 진행하는 기능을 구현한다 

- [x] PurchaseValidator를 구현한다.
    - [x] 금액이 0보다 작거나 같은 경우는 예외 처리 한다.
    - [x] 1000원으로 나누어 떨어지지 않는 경우 예외 처리 한다.
- [x] LottoNumbersValidator를 구현한다.
    - [x] 숫자의 개수가 6개가 아닌 경우는 예외 처리 한다.
    - [x] 하나의 숫자라도 '(1 ~ 45)' 범위에서 벗어나면 예외 처리 한다.
    - [x] 6개의 숫자들 간에 겹치는 숫자가 있다면 예외 처리 한다.
- [x] BonusNumberValidator를 구현한다.
    - [x] 숫자가 '(1 ~ 45)' 범위에서 벗어나면 예외 처리 한다.
    - [x] 보너스 숫자가 당첨 숫자들 중에 하나와 겹치면 예외 처리 한다.

### Exception 메세지들을 저장하는 Enum 타입을 구현한다 -> LottoException

- [x] 주어질 수 있는 에러 메시지 들을 저장해 놓는다.
    - [x] "숫자가 아닌 입력입니다." 예외 메시지를 저장한다.
    - [x] "입력이 비어있습니다." 예외 메시지를 저장한다.
    - [x] "구매 금액은 0보다 커야합니다." 예외 메시지를 저장한다.
    - [x] "구매 금액은 1000원 단위로 입력해야 합니다." 예외 메시지를 저장한다.
    - [x] "로또 번호는 6개로 구성되어야 합니다." 예외 메시지를 저장한다.
    - [x] "로또를 구성하는 번호는 1이상 45이하 자연수로 구성되어야 합니다." 예외 메시지를 저장한다.
    - [x] "로또를 구성하는 6개의 번호는 모두 다른 수로 구성되어야 합니다." 예외 메시지를 저장한다.
    - [x] "보너스 번호는 6개의 숫자와 다른 숫자로 구성되어야 합니다." 예외 메시지를 저장한다.
- [x] 해당 에러 메시지를 반환 하도록 한다.

### 로또 로직을 구현한다. -> Lotto

- [ ] 로또를 생성한다.
- [ ] 로또의 생성자에 주어진 로또 숫자 List를 오름차순으로 정렬해서 넣어준다. 
- [ ] 주어진 숫자가 해당 로또에 포함되어 있는지 확인한다.

### 당첨 로또를 구현한다. -> WinningLotto

- [ ] 당첨 로또를 생성한다.
    - [ ] List 형태로 당첨 숫자들을 필드로 갖는다.
    - [ ] 보너스 번호를 필드로 갖는다.
- [ ] 로또를 비교하여 로또 등수를 반환한다.

### 로또 등수를 구현한다. -> Rank

- [ ] 당첨 로또와 겹치는 숫자 개수와 보너스 숫자에 따른 로또 등수를 생성한다.

### 당첨 내역을 구현한다. -> LottoResult

- [ ] Rank와 Rank에 해당하는 로또 개수를 저장하는 Map 형식의 result를 갖는다.
- [ ] 수익률을 계산한다.

### 로또 애플리케이션을 구현한다. -> LottoApplication

- [ ] 로또 프로그램을 진행한다.


## 🔎 체크할 사항

- [ ] IllegalAlgumentException이 발생하는 상황을 모두 처리하며 [ERROR]로 시작하는 예외 메시지를 출력하자
    - [ ] 숫자가 아닌 구입 금액 문자열을 입력하면 예외를 발생시킨다.
    - [ ] 구입 금액 문자열이 음수로 입력되면 예외를 발생시킨다.
    - [ ] `1,000`원 단위로 나누어 떨어지지 않는 구입 금액을 입력하면 예외를 발생시킨다.
    - [ ] 로또 번호 입력이 숫자가 아닌 문자가 포함된 문자열이면 예외를 발생시킨다.
    - [ ] 쉼표로 구분된 당첨 번호가 6개 아니면 예외를 발생시킨다.
    - [ ] 로또 번호 입력이 정해진 범위`1 ~ 45`를 벗어나면 예외를 발생시킨다.
    - [ ] 로또 번호 입력 간 중복된 숫자를 가진다면 예외를 발생시킨다.
    - [ ] 보너스 번호가 숫자가 아닌 문자로 주어진 문자열이면 예외를 발생시킨다.
    - [ ] 보너스 번호가 정해진 범위`1 ~ 45`를 벗어나면 예외를 발생시킨다.
    - [ ] 보너스 번호가 당첨 번호와 중복된 숫자를 가진다면 예외를 발생시킨다.
- [ ] 테스트가 정상적으로 실행되는가
- [ ] 출력문을 정확히 구현하자
    - [ ] 구입 금액 입력 시 입력 메시지를 출력한다.
    - [ ] 금액에 알맞게 발행한 로또 수와 각 로또의 번호를 형식에 맞추어 출력한다.
    - [ ] 당첨 번호 입력 시 입력 메시지를 출력한다.
    - [ ] 보너스 번호 입력 시 입력 메시지를 출력한다.
    - [ ] 로또 최종 결과 들을 형식에 맞추어 출력한다. (수익률은 소수점 둘째자리 반올림, 당첨 금액 오름차순 정렬)
- [ ] 주어진 세팅을 모두 확인하자
    - [ ] `./gradlew clean test` 명령이 정상적으로 실행되는가
    - [ ] `java version`이 `17`인지 확인했는가
    - [ ] `indent depth`를 `3`이 넘지 않도록 구현했는가
    - [ ] 3항 연산자를 사용하지 않았는가
    - [ ] 함수의 길이가 `15`라인을 넘지 않도록 구현했는가
    - [ ] `else` 예약어를 사용하지 않았는가
    - [ ] `Java Enum`을 적용했는가
    - [ ] 도메인 로직 단위 테스트를 구현했는가
    - [ ] `Randoms.pickUniqueNumbersInRange()`를 활용했는가
    - [ ] `Console.readLine()`을 활용했는가
    - [ ] `Lotto`에 매개변수가 없는 생성자를 추가하지 않았는가
    - [ ] `numbers`의 접근 제어자를 `private`에서 변경하지 않았는가
    - [ ] `Lotto`에 필드(인스턴스 변수)를 추가하지 않았는가