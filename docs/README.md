## 플레이어

- 플레이어는 로또 구매에 필요한 화폐를 지불할 수 있다.
    - 플레이어는 로또 구매 시 모든 화폐를 사용해야 한다.
- 플레이어는 로또 매니저를 통해 로또 번들을 구매할 수 있다.
    - 플레이어는 구매한 로또 번들을 저장한다.
- 플레이어는 당첨 번호와 보너스 번호를 입력할 수 있다.
    - 플레이어는 로또 매니저를 통해 위 값을 검증한다.
    - 플레이어는 위 값을 저장한다.
- 플레이어는 로또 추첨기를 통해 로또 결과를 받아볼 수 있다.

## 화폐 (Money)

- 화폐 클래스는 각 주체가 보유하는 화폐를 의미한다.
- 화폐 클래스는 현재 금액에 해당하는 값을 가진다.
    - 현재 금액은 불변해야 한다.
- 화폐 금액은 다음 조건을 만족해야 한다.
    - 금액은 0 이상이어야 한다.
- 화폐 생성 시 금액에 해당하는 정수를 입력받는다.
    - 입력한 값을 검증한다.
    - 검증이 실패하는 경우 예외를 발생시킨다.

## 로또

- 로또는 정수 리스트인 numbers를 가진다.
- 로또를 생성할 때 로또 번호들의 리스트 numbers를 validate한다.
    - 로또 번호가 6개인지 검증한다.
    - 로또 번호의 범위가 1~45인지 검증한다.
    - 로또 번호가 서로 중복되지 않는 값인지 검증한다.
- 검증이 실패하는 경우 예외를 발생시킨다.
    - 예외 발생 시 예외의 서브타입으로 지정되어야 한다.
- 검증이 실패하는지 사전에 확인할 수 있는 메서드를 가진다.

## 당첨 로또 (WinningLotto)

- 당첨 로또는 로또를 상속받는다.
- 당첨 로또는 당첨 로또에 해당하는 정수 리스트 numbers와 보너스 번호 bonusNumber를 가진다.
- 당첨 로또는 numbers와 bonusNumber를 validate한다.
    - 로또의 검증 조건을 만족하는지 validate한다.
    - 보너스 번호의 범위가 1~45인지 검증한다.
    - 보너스 번호와 로또 번호가 중복되지 않는 값인지 검증한다.

## 로또 번들 (LottoBundle)

- 로또 번들은 로또의 리스트를 가진다.

## 로또 기계

- 플레이어는 로또 기계를 통해 로또 게임을 플레이할 수 있다.
- 로또 기계는 다음을 가진다.
    - 로또 판매기
    - 로또 추첨기

## 로또 추첨기 (LottoJudge)

- 로또 추첨기는 당첨 로또를 입력받는다.
- 로또 추첨기는 구매한 로또 번들과 당첨 로또를 비교하여 당첨 여부를 판정한다.
    - 로또 추첨는 이를 기반으로 당첨 여부를 판정하여 당첨 통계를 생성하여 반환한다.

## 당첨 통계

- 당첨 통계는 모든 당첨 등수 유형과 해당 유형에 당첨된 로또 개수를 가진다.

## 당첨 등수

- 당첨 등수는 1등부터 5등까지 총 5개의 등수를 가지는 enum 타입이다.
- 각 등수에 해당하는 당첨 기준과 당첨 금액이 존재한다.

## 로또 판매기 (LottoSeller)

- 로또 판매기는 로또 판매가에 해당하는 금액을 관리한다.
    - 로또 1장의 가격은 1000원이다.
- 로또 판매기는 로또 발행기를 가진다.
- 로또 판매기는 플레이어에게 로또 번들을 판매한다.
    - 로또 판매기는 플레이어가 지불한 금액이 구매 가능 조건을 만족시키는지 검증한다.
        - 로또 판매기는 로또 구매 금액이 1000원 단위인지 검증한다.
        - 로또 판매기는 로또 구매 금액이 1000원 이상인지 검증한다.
    - 검증에 실패하면 예외를 발생시킨다.
    - 로또 판매기는 검증이 성공하면 로또 발행기를 통해 로또 번들을 발행한다.
    - 로또 판매기는 발행한 로또 번들을 플레이어에게 반환한다.

## 로또 발행기 (LottoPublisher)

- 로또 발행기는 요청한 개수만큼에 해당하는 로또 번들을 발행한다.
- 로또 발행기는 로또 번호 생성에 필요한 난수 생성기를 가진다.
- 로또 발행기는 적절한 방식으로 로또를 생성한다.
    - 난수 생성기를 통해 로또에 들어갈 번호를 생성한다.
    - 로또 번호를 통해서 로또를 생성한다.
    - 예외가 발생하는 경우 다시 로또를 생성한다.

## 게임 매니저

- 게임 매니저는 로또 게임 시작 및 종료를 관리한다.
- 게임 매니저는 로또 게임에 필요한 객체들을 생성해준다.
    - 게임 매니저는 입출력 매니저와 로또 게임에 참여하는 객체 간 요청을 중계한다 (느슨한 결합)
- 게임 매니저는 로또 게임 플레이 시나리오를 관리한다.
    - TODO: 게임 매니저가 시나리오를 관리하지 않고 각 객체가 컨트롤을 가질 수 있는 방법 고민

## 입력 매니저

- 입력 매니저는 로또 구입 금액을 입력받아 verify한다.
    - 입력 매니저는 입력값의 syntax만 검증하고 semantic은 각 객체에서 validate할 수 있도록 한다.

## 출력 매니저

- 출력 매니저는 로또를 출력할 수 있다.
    - 로또 번호는 오름차순으로 정렬하여 출력한다.
- 출력 매니저는 화폐를 출력할 수 있다.
    - 화폐를 출력할 때, 1000원 단위로 끊어서 출력한다.
- 출력 매니저는 로또 게임 결과를 출력할 수 있다.
    - 출력 매니저는 수익률을 출력할 수 있다.
        - 수익률은 소수점 둘째 자리에서 반올림한다.

## 예외

- 예외의 출력 포맷을 관리한다.
