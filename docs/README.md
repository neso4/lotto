# 프로젝트 개요

## 프로젝트 설명
- **로또 게임**
- 규칙 들여다보기
  - 로또 번호의 숫자 범위 -> 1~45
    - 예외 처리가 필요하다.
    - 1개 로또 티켓 
      - -> 6개의 중복 없는 무작위 숫자
  - 로또 하나당 천원 
    - -> 천원보다 적거나 나누어 떨어지지 않으면 예외 처리
  - 이후 출력 
    - "n개를 구매했습니다."
      - n개의 list 출력 
        - "[%d, %d, %d, %d, %d, %d]", 숫자 1번, 2번 . . .
        - 이게 n번 출력
  - 당첨 번호 입력 메소드 필요
  - 보너스 번호 입력 메소드 필요

  - 당첨 통계 
  - "---"
  - "3개 일치 (5,000원) - %d개", 로직 결과
  - "4개 일치 (5,0000원) - %d개", 로직 결과
  - 등등
  - "총 수익률은 %f%입니다.", 로직 결과/비용(소수 둘째점 자리에서 반올림)

# 기능 목록
## 1. 로또 인풋 클래스
### 구입 금액 입력 매서드
- 구입 금액을 입력 받아 1000으로 나눈다.
- 나눈 나머지가 0이 아니면 예외 처리
- 숫자로 포멧팅이 안될 경우도 예외 처리
### 당첨 번호 입력 매서드
- 당첨 번호의 경우는 레이싱카를 입력 받을 때 ,를 기준으로 자르는 로직
- 만약 ,이 먼저 나오거나 끝에 나오면 빈값을 입력받았다 간주하여 예외 처리
- 혹은 숫자가 6개 이상이거나 이하여도 예외처리
- 1부터 45까지 인지도 체크 필요
### 보너스 번호 입력 매서드
- 보너스 번호의 경우 한 개만 들어오는지 체크
- 1부터 45까지 인지도 체크 필요
- 여기서 당첨 번호와 겹치면 안되고 당첨 번호끼리도 겹치면 안된다.
#### 공통적으로 숫자만 받기 때문에 변환시 숫자가 안되면 예외 처리 공통 적용
## 2. 로또 생성 클래스
- 인풋에서 받은 자료들을 토대로 게임 로직 실행
  - 받은 로또 카운트로 몇 번의 로또를 생성할지
  - 생성한 로또의 인스턴스로 6개의 랜덤한 숫자 리스트를 가지고 있기
  - 가진 숫자들을 아웃풋에 넘기기
## 3. 아웃풋 클래스
### 로또 생성 클래스에서 생성된 로또들을 출력하는 매서드
- 위에서 정의한 대로 "[숫자, 숫자]" 형식을 지킬것
- 출력은 먼저 몆 개의 로또인지
- 그 다음은 줄마다 형식에 맞게 로또 리스트 출력
### 로또 당첨 결과를 보여주는 매서드
- 로또에서 당첨된 번호와 그 결과를 출력
- 당첨 내역을 계산한 내용을 파라미터로 받아 출력한다.
### 수익률을 출력하는 클래스
- 수익률을 계산한 값을 받아 출력한다.
- "총 수익률은 %f%입니다.",실제값
## 4. 당첨 내역 계산 및 수익률 계산 클래스
### 당첨 내역을 계산하는 매서드
- 당첨 내역의 결과는 당첨 번호와 보너스 번호, 로또 번호 이 세가지 요소를 조합해야한다.
- 로또 번호마다 당첨 번호과 비교하면서 당첨 갯수를 카운팅해야한다.
- 카운팅한 당첨 갯수에 따라 일치하는 넘버 영역에 넣는다. 
- 즉 카운팅을 저장할 클래스가 필요하다.
## 5. 당첨 통계 클래스
### 당첨 통계를 저장하는 생성자 및 업데이트 매서드
- 통계 상황을 저장해서 계산할 클래스가 필요하다.
- 당첨 수익률을 계산하기 위해 수익을 투자금으로 나누어 100을 곱한 값이 필요하다. 
- float나 double로 받고 이를 소수 둘째 자리에서 반올림한다.
## 6. 게임 메인 클래스
### 게임 실행 매서드
- 위에 구성한 클래스들을 필드로 받아 실행
- 모든 매서드를 취합할 타이밍
- 통합 실행이라고 생각하면 된다.
## 7. Lotto 도메인 클래스
### 필드: numbers
- 하나의 로또의 번호들을 저장한 리스트
- 생성자에 Validation을 넣어 검증 가능하다.
## 8. Lottos 도메인 클래스
### 필드: List< Lotto >
- 로또에 바로 접근하면 위험할까 해서 만든 클래스
- 함수끼리는 Dto로 정보를 교환한다.
- 최대한 Lotto를 노출시키지 않으려고 하나 더 만든 단계이다.
## 9. 메세지 Enum & 익셉션 메세지 Enum 클래스
- 유틸 패키지에 있으며 String을 감추고 한 곳에서 관리하기 위해 만듬
- sout이나 익셉션의 메세지들을 관리하며 메세지가 변경될 때 여기서 관리 가능하다.
## 10. Validator 클래스
### Input에서 온 자료들을 검증하는 매서드
- 필자는 도메인은 최대한 보존하고 싶어 검증기 클래스를 따로 만들었다.
- 어느 방식이 좋은지는 우열을 가릴 수 없다고 본다.
- 최대한 도메인은 손상이 안 가도록 검증용 클래스를 따로 만든 것
- 이후 단위 테스트는 아웃풋과 인풋을 제외하는 대신 검증기 클래스를 사용할 것
## 11. 단위 테스트 클래스
### 인풋 검증, 로또 생성, 로또 결과 체크, 수익률 체크 4개의 로직을 단위 별로 테스트
- Validator 클래스로 인풋을 검증하고 예외처리하는 로직을 테스트
  - 이번 프로젝트에서는 도메인 클래스 내부에 검증 로직을 넣던데 Validator 클래스 대신 도메인에 로직을 넣을지 고민이다.
  - 결국 이번 프로젝트에서는 Validator를 그대로 사용해서 검증 로직을 한 꺼번에 담당하도록 작성했다.
  - 다만 이렇게 하니 Validator가 너무 커지는 느낌을 받아서 이를 각 인풋 메서드의 담당 Validator 클래스로 쪼개는 방안도 생각 중이다.
- LottoResultCheck 클래스의 로직을 검증하는 단위 테스트
  - 인풋을 제외하면 익셉션을 날린 타이밍이 없기 때문에 정상 로직만 검증
  - 해당 클래스의 관련 DTO를 생성해 로직이 정상 작동 하는지 검증
- LottoGenerator 클래스의 로직을 검증하는 단위 테스트
  - 인풋을 제외하면 익셉션을 날린 타이밍이 없기 때문에 정상 로직만 검증
  - 해당 클래스의 관련 DTO를 생성해 로직이 정상 작동 하는지 검증
- LottoReturnRateCalculator 클래스의 로직을 검증하는 단위 테스트
  - 인풋을 제외하면 익셉션을 날린 타이밍이 없기 때문에 정상 로직만 검증
  - 해당 클래스의 관련 DTO를 생성해 로직이 정상 작동 하는지 검증
## 12. 통합 테스트 클래스
### 로또를 실행하여 전체적인 시퀀스가 잘 돌아 가는지 검증하는 클래스
- Valdator 단위 테스트에서 확인한 예외 케이스를 통합 테스트에서 검증