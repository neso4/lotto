# 게임 진행
1. 로또 구입 금액을 입력해 달라는 메세지를 출력한다.
2. 구입 금액을 입력받는다.
   - 로또 한 장의 가격은 1000원이다.
   - 금액은 1000원 단위여야 한다.
   - 1000원으로 나누어 떨어지지 않는 경우 예외 처리한다.
3. 구입 금액만큼의 로또를 생성한다.
4. 로또의 수량 및 각 로또 번호들을 출력한다.
   - 로또의 번호는 1~45번이다.
   - 유효한 범위를 벗어날 경우 예외 처리한다.
   - 중복되는 숫자가 있어선 안 된다.
   - 중복되는 숫자가 있을 경우 예외 처리한다.
5. 생성된 로또의 수량만큼을 구매했다는 출력 메세지를 출력한다.
6. 생성된 로또들을 출력한다.
7. 당첨 번호를 입력해 달라는 메세지를 출력한다.
8. 쉼표로 구분된 당첨 번호를 입력받는다.
   - 각 당첨 번호는 1~45의 범위 내에 있어야 한다.
   - 당첨 번호 중 중복은 없어야 한다.
9. 보너스 번호를 입력해 달라는 메세지를 출력한다.
10. 보너스 번호를 입력 받는다.
    - 보너스 번호는 당첨 번호와 중복되어선 안 된다.
    - 보너스 번호 또한 1~45의 범위 내에 있어야 한다.
11. 당첨 통계를 출력한다.
12. 당첨된 금액을 합산해 총 수익률을 계산한다.
13. 총 수익률을 출력한다.

---
# 기능 목록 ✅
## View 👀
### Output
- [X] 로또 구입 금액을 입력해 달라는 메세지를 출력해야 한다.
- [X] 로또의 수량 및 각 로또 번호들을 출력해야 한다.
  - [X] 각 로또 번호는 오름차순으로 정렬하여 보여준다.
- [X] 당첨 번호를 입력해 달라는 메세지를 출력해야 한다.
- [X] 보너스 번호를 입력해 달라는 메세지를 출력해야 한다.
- [X] 당첨 통계를 출력해야 한다.
- [X] 총 수익률을 출력해야 한다.
### Input
- [X] 사용자의 입력을 받을 수 있어야 한다.

## Controller 🕹️
- [X] 당첨 번호를 입력받고 서비스 객체에게 전달한다.
- [X] 보너스 번호를 입력받고 서비스 객체에게 전달한다.
- [X] 서비스로부터 결과를 전달 받는다.
- [X] 서비스로부터 게임의 수익률을 받는다.
- [X] 결과를 dto를 이용해 출력하게 한다.
- [X] 수익률을 출력하게 한다.

## Validator 🔍
### 역할
- 각 입력에 대한 유효성 검사를 수행한다.
### 1. 구매 금액
- [X] 숫자로 변환할 수 있는 값인지 검사한다.
- [X] 1000원 단위인지 검사한다.
### 2. 당첨 번호
- [X] 쉼표로 구분했을 때 6개가 되어야 한다.
- [X] 각 숫자 입력은 숫자로 변환 가능한 문자열이어야 한다.
- [X] 각 숫자는 1~45까지 범위의 숫자여야 한다.
- [X] 중복되는 숫자는 없어야 한다.
### 3. 보너스 번호
- [X] 숫자로 변환 가능한 문자열이어야 한다.
- [X] 1~45까지 범위의 숫자여야 한다.
- [X] 당첨 번호와 중복이 없어야 한다.

## Service 🧑‍🔧
### 역할
- 컨트롤러로부터 각 매니저(재정 매니저, 게임 매니저)에게 요청을 전달한다.
### 요구사항
- [X] 입력받은 금액으로 FinanceManager를 초기화한다.
- [X] 로또의 개수를 이용해 GameManager를 초기화한다.
- [X] 컨트롤러로부터 받은 당첨 번호와 보너스 번호를 GameManager에 전달한다.
- [X] GameManager로부터 결과를 전달받고 컨트롤러에 제공한다.
- [X] FinanceManager로부터 수익률을 전달받고 컨트롤러에 제공한다.

## Model 📦

### GameManager
#### 역할
- 로또의 개수를 받고 개수만큼 로또를 생성한다.
- 당첨 번호와 생성된 로또들을 연결해 준다.
#### 요구 사항
- [X] 로또 개수를 전달받고 그만큼의 로또를 생성한다.
- [X] 로또 번호와 당첨 번호를 전달받고, LottoWithBonus를 생성한다.

### LottosWithBonus
#### 역할
   - 생성된 로또들을 관리한다.
   - 외부 명령에 대해 각 로또들에 요청을 보낸다.
#### 요구 사항
   - [X] 각 로또들에게 당첨 번호와 비교하라고 요청하고, 결과를 받는다.

### LottoWithBonus
#### 역할
   - 로또와 보너스 번호를 관리한다.
   - 보너스 번호를 비교할 수 있어야 한다.
#### 요구 사항
   - [X] 당첨 번호와 일치하는 개수와 보너스 번호 일치 여부를 포함한 결과를 반환한다.

### Lotto
#### 역할
   - 로또 번호 6개를 관리한다.
   - 다른 로또와 일치 개수를 계산한다.
#### 요구 사항
   - [X] 각 로또 번호는 중복되면 안 된다.
   - [X] 각 로또 번호는 1~45의 범위 내에 있어야 한다.
   - [X] 현재 로또 번호들과 중복되지 않는 수를 반환할 수 있어야 한다.

### LottoNumber
#### 역할
   - 각 로또 번호 역할을 한다.
   - 다른 로또 번호와 동등성을 비교한다.
#### 요구 사항
   - [X] 로또 번호끼리 동등성을 비교할 수 있어야 한다.

### LottoResult
#### 역할
   - 로또의 비교 결과를 전달받는다.
#### 요구사항
   - [X] 일치하는 개수와 보너스 번호 일치 여부를 받아야 한다.

### LottoRank
#### 역할
   - 로또의 비교 결과를 이용해 순위와 금액을 결정한다.

### LottoTotalResult
#### 역할
   - 로또 비교 결과를 모두 종합해 LottoRank를 키로 한 개수를 Mapd으로 저장한다.

### FinanceManager
#### 역할
   - 입력받은 금액들로 로또의 개수를 반환한다.
   - 수익금을 통해 수익률을 계산한다.
#### 요구 사항
   - [X] 입력받은 금액으로 로또의 개수를 계산하고 반환한다.
   - [X] 수익률은 소수점 둘째 자리에서 반올림한다.
---
# 리팩토링 목록 ⚒️
## 상수 enum으로 관리
  - [X] 에러 메세지
    - [X] 숫자 값 입력이 아닐 때
    - [X] 나누어 떨어지지 않을 때
    - [X] 로또 숫자의 개수가 부족하거나 더 많을 때
    - [X] 중복된 숫자일 때
  - [X] 로또에 관련된 수
    - [X] 가능한 숫자 범위 (1~45)
    - [X] 로또 숫자 개수 (6)
    - [X] 로또 가격 (1000)
    - [X] 퍼센트로 나타내기 위해 곱할 숫자 (100)
  - [X] 출력에 관한 문자
    - [X] 숫자 입력에 대한 구분 기호
    - [X] 숫자 출력에 대한 구분 기호
    - [X] 금액 출력에 대한 구분 기호
    - [X] 금액 출력에 필요한 정규식

## 보너스 볼에 대한 조건 enum으로 분리
LottoRank는 공 숫자 일치 개수, 금액 그리고 보너스 볼에 대한 조건을 가지고 있습니다.

하지만 보너스 볼에 대한 조건을 boolean으로 하니 의도가 명확하게 드러나지 않은 것 같아 이를 enum으로 분리했습니다.

이제 보너스 볼에 대한 조건은 아래와 같이 나뉩니다.
1. NON_REGARD : 보너스 볼을 고려하지 않음
2. MATCH : 보너스 볼이 일치해야 함
3. MISMATCH : 보너스 볼이 일치하지 않음
