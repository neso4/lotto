# 우테코 3주차 미션 [로또]

## 주의 사항 정리

### 프로그래밍 요구 사항

- [ ]  들여쓰기 depth는 3이하
- [ ]  3항 연산자 금지
- [ ]  함수 / 메서드가 한 가지 일만 하도록 최대한 작게
- [ ]  JUnit5 와 AssertJ를 이용하여 기능 목록이 정상 동작함을 테스트 코드로 확인
- [ ]  함수 / 메서드의 길이가 15라인 넘지 않도록
- [ ]  else 예약어 금지 / switch-case문도 금지
- [ ]  JavaEnum 사용
- [ ]  도메인 로직에 단위 테스트를 구현 UI 로직은 제외
- [ ]  `Randoms` 와 `Console` 사용
- [ ]  `Lotto` 클래스 사용
    - [ ]  `numbers`의 private 변경 불가
    - [ ]  `Lotto` 에 필드(인스턴스 변수) 추가 불가
    - [ ]  `Lotto`의 패키지 변경은 가능

```java
public class Lotto {
    private final List<Integer> numbers;

    public Lotto(List<Integer> numbers) {
        validate(numbers);
        this.numbers = numbers;
    }

    private void validate(List<Integer> numbers) {
        if (numbers.size() != 6) {
            throw new IllegalArgumentException();
        }
    }

    // TODO: 추가 기능 구현
}
```

### 기능 요구 사항

- [ ]  로또 숫자의 범위는 1~45
- [ ]  1개의 로또 발행 시 중복되지 않는 6개의 숫자를 뽑기
- [ ]  당첨 번호 추첨 시에 중복되지 않는 숫자 6개 + 보너스 1개
- [ ]  당첨은 1등부터 5등까지.
    - [ ]  1등 : 6개의 번호 일치 / 20억원
    - [ ]  2등 : 5개의 번호 일치 + 보너스 번호 / 3000만원
    - [ ]  3등 : 5개 번호 일치 / 150만원
    - [ ]  4등 : 4개의 번호 일치 / 5만원
    - [ ]  5등 : 3개의 번호 일치 / 5천원
- [ ]  로또 가격은 1000원
- [ ]  당첨 번호와 보너스 번호 입력
- [ ]  사용자가 구매한 로또 번호와 당첨 번호를 비교
- [ ]  수익률 출력, 로또 게임 종료
- [ ]  잘못된 입력시 `IllegalArgumentException` `IllegalStateException` 발생, "[ERROR]"로 시작하는 에러 메시지를 출력 후 그 부분부터 입력을 다시

### 입출력 요구사항

**입력** : 구매 금액, 당첨 번호, 보너스 번호

1. 로또 구입 금액

```java
14000
```

**예상되는 예외 처리**

- [ ]  1000원으로 나누어 떨어지지 않는 경우
- [ ]  0이하의 정수
- [ ]  정수가 아닌 경우

---

1. 당첨 번호

```java
1,2,3,4,5,6
```

**예상되는 예외 처리**

- [ ]  번호가 쉼표로 구분이 되지 않는 입력인 경우
- [ ]  정수가 아닌경우
- [ ]  범위(1~45)가 아닌경우
- [ ]  각 번호가 중복이 되는 경우

---

1. 보너스 번호

```java
7
```

**예상되는 예외 처리**

- [ ]  정수가 아닌경우
- [ ]  범위(1~45)가 아닌경우
- [ ]  각 번호가 중복이 되는 경우

출**력** : 발행한 로또 수량 및 번호, 당첨 내역, 수익률, 예외

1. 발행한 로또 수량 및 번호

    ```java
    8개를 구매했습니다.
    [8, 21, 23, 41, 42, 43] 
    [3, 5, 11, 16, 32, 38] 
    [7, 11, 16, 35, 36, 44] 
    [1, 8, 11, 31, 41, 42] 
    [13, 14, 16, 38, 42, 45] 
    [7, 11, 30, 40, 42, 43] 
    [2, 13, 22, 32, 38, 45] 
    [1, 3, 5, 14, 22, 45]
    ```

   **조건**

    - [ ]  로또 번호는 오름차순으로 정렬
2. 당첨 내역

    ```java
    3개 일치 (5,000원) - 1개
    4개 일치 (50,000원) - 0개
    5개 일치 (1,500,000원) - 0개
    5개 일치, 보너스 볼 일치 (30,000,000원) - 0개
    6개 일치 (2,000,000,000원) - 0개
    ```

3. 수익률

    ```java
    총 수익률은 62.5%입니다.
    ```

   **조건**

    - [ ]  소수점 둘째 자리에서 반올림
4. 예외 상황

    ```java
    [ERROR] 로또 번호는 1부터 45 사이의 숫자여야 합니다.
    ```

   **조건**

    - [ ]  에러 문구는 “[ERROR]” 로 시작

- [ ] 

# 기능 목록

1. **Lotto 클래스 기능:**
   - 번호 리스트 유효성 검증 (**`validate`** 메서드 내 구현):
      - 리스트 크기가 6인지 확인.
      - 모든 숫자가 1~45 범위 내에 있는지 확인.
      - 중복된 숫자가 없는지 확인.
   - 당첨 번호와 비교 기능:
      - 당첨 번호와 일치하는 번호의 개수를 반환.
      - 보너스 번호가 포함되었는지 확인.
2. **LottoGenerator 클래스 기능:**
   - 1~45 범위 내에서 중복되지 않는 6개의 숫자 생성.
3. **LottoMachine 클래스 기능:**
   - 사용자 입력 (구입 금액) 유효성 검증.
   - 입력된 금액에 따라 로또 발행.
   - 당첨 번호 입력 받기 및 유효성 검증.
   - 보너스 번호 입력 받기 및 유효성 검증.
   - 사용자 로또와 당첨 번호 비교.
   - 수익률 계산 및 출력.
4. **WinningStatistics 클래스 기능:**
   - 당첨 결과 계산:
      - 각 등수별 당첨된 로또 수 계산.
   - 수익률 계산 및 반환.
5. **Prize Enum:**
   - 각 등수별 상금과 일치하는 번호 개수 및 보너스 번호 일치 여부 정의.
6. **InputValidator 클래스 기능:**
   - 금액 입력 유효성 검증.
   - 번호 입력 유효성 검증 (당첨 번호 및 보너스 번호).
7. **Main 클래스 (혹은 UI 관련 클래스):**
   - 사용자로부터 입력을 받음 (Scanner 등 사용).
   - 입력된 값을 LottoMachine에 전달.
   - 결과 및 오류 메시지 출력.
8. **단위 테스트:**
   - **`Lotto`** 클래스의 유효성 검증 로직.
   - **`LottoGenerator`**의 숫자 생성 로직.
   - **`LottoMachine`**의 로또 구매 및 당첨 비교 로직.
   - **`WinningStatistics`**의 당첨 결과 및 수익률 계산 로직.