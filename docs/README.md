# 미션 - 로또

## 📝 구현할 기능 목록

### 진행

- [X] 로또 게임 진행
    - 로또 구매 금액을 받아옴 ➡️ 협력 : 로또 구매 금액 입력 기능
    - 로또 구매 금액으로 로또 번호 발급 ➡️ 협력 : 로또 번호 생성 기능
    - 당첨 번호 입력 ➡️ 협력 : 당첨 번호 입력 기능
    - 보너스 번호 입력 ➡️ 협력 : 보너스 번호 입력 기능
    - 당첨 결과 도출 ➡️ 협력 : 당첨 비교 기능
    - 결과 출력 ➡️ 협력 : 출력 기능

### 생성 또는 입력

- [X] 로또 구매 금액 입력 기능
    - 문자열 입력 ➡️ 협력 : 입력 기능
    - 당첨 번호 검증 ➡️ 협력 : 로또 구매 금액 입력 기능
    - 당첨금액 자료구조 생성
- [X] 로또 번호 생성 기능
    - 구매 금액에 따른 로또 번호 생성 반복
        - 로또 금액 랜덤 생성
    - 생성 번호 검증 및 재 생성
        - ~~1,45 중 중복되지않는 로또번호 생성~~➡️로또 번호 검증 기능과 중복(Lotto자료구조에서 검증처리)
    - 로또 자료구조 생성
- [X] 당첨 번호 입력 기능
    - 문자열 입력 ➡️ 협력 : 입력 기능
    - 당첨 번호 검증 ➡️ 협력 : 로또 번호 검증 기능
    - 당첨 번호 자료구조 생성

- [X] 보너스 번호 입력 기능
    - 문자열 입력 ➡️ 협력 : 입력 기능
    - 보너스 번호 검증 ➡️ 협력 : 보너스 번호 검증 기능
    - 보너스 번호 자료구조 생성

### 결과 도출

- [X] 당첨 비교 기능
    - [X] 등수를 구할 수 있다.
        - [X] 로또 번호 - 당첨 번호를 비교
        - [X] 로또 번호 - 보너스 번호를 비교
    - [X] 결과를 합산 할 수 있다.

- [X] 수익률 계산 기능 ➡️ (Result자료구조 비즈니스 로직으로 처리)
    - [X] 당첨금액 합산기능
    - [X] 합산금액 / 로또구매금액 * 100

### 검증

- [X] 공통 형식 검증 기능
    - [X] [ERROR] 빈칸이 입력되었을때
    - [X] [ERROR] 문자가 포함되었을때

- [X] 로또 구매 금액 검증 기능
    - [X] 당첨 구매 금액 입력형식 검증
        - [X] ~~[ERROR] 빈칸이 입력되었을때~~ ➡️ 공통 검증 상속
        - [X] ~~[ERROR] 문자가 입력되었을때~~ ➡️ 공통 검증 상속
    - [X] 당첨 구매 금액 검증
        - [X] [ERROR] 0이 입력되었는지
        - [X] [ERROR] 로또 금액이 1000원 단위가 아닐때
        - [X] [ERROR] 로또 금액이 int형 범위를 넘지않는지

- [X] 로또 번호 검증 기능
    - [X] 당첨 번호 입력형식 검증
        - [X] ~~[ERROR] 빈칸이 입력되었을때~~ ➡️ 공통 검증 상속
        - [X] ~~[ERROR] 문자가 포함되었을때~~ ➡️ 공통 검증 상속
        - [X] [ERROR] ",,"이 포함되어있을때
        - [X] [ERROR] ","으로 시작할때
        - [X] [ERROR] ","으로 끝날때
    - [X] 당첨 번호 검증
        - [X] [ERROR] 입력한 값이 6자리가 아닐때
        - [X] [ERROR] 중복값이 있을때
        - [X] [ERROR] 입력값의 범위가 1~45 사이가 아닐때

- [X] 보너스 번호 검증 기능
    - [X] 보너스 번호 입력형식 검증
        - [X] ~~[ERROR] 빈칸이 입력되었을때~~ ➡️ 공통 검증 상속
        - [X] ~~[ERROR] 문자가 포함되었을때~~ ➡️ 공통 검증 상속
    - [X] 보너스 번호 검증
        - [X] [ERROR] 당첨 번호와 중복값이 있을때
        - [X] [ERROR] 입력값의 범위가 1~45 사이가 아닐때

## 절차적 기능 나열

절차적으로 기능을 나열함으로 흐름을 보고자 하였습니다.

- 게임전
    - 로또 구입 금액을 입력 받는다.
        - 입력값을 검증한다.
    - 로또 번호를 생성한다.
    - 당첨 번호를 입력 받는다.
        - 당첨 번호를 검증한다.

- 게임중
    - 당첨 내역을 계산한다.
        - 입력 번호와 로또 번호를 비교한다.
- 게임후
    - 발행한 로또 수량를 출력한다.
    - 발행한 번호를 출력한다.
    - 당첨 내역을 출력한다.
    - 수익률을 출력한다.

[https://techblog.woowahan.com/2502/](https://techblog.woowahan.com/2502/)
다음을 참고하여 도메인 분리를 시도해 보았습니다.

## 도메인 설계

어떤 도메인이 어떤 역할과 책임을 가지고 있는지 작성하였습니다.

### 로또게임 진행

로또게임을 순차대로 진행한다.

- 책임
    - 하는 것 : 게임을 진행한다.
    - 아는 것 : 당첨번호, 로또 구매금액, 로또번호
- 협력
    - 로또 구매금액 입력, 로또 번호 생성, 당첨 번호 입력

### 로또 구매 금액 입력

- 책임
    - 무엇을 할 수 있는가 : 검증된 로또금액를 리턴
    - 무엇을 알고 있는가 : 입력된 로또금액, 로또번호 범위
- 협력
    - 출력, 입력, 검증

### 로또번호 생성

- 책임
    - 하는 것 : 당첨번호를 생성한다.
    - 아는 것 : 로또 구매 금액, 당첨번호 범위

### 딩첨 번호 입력

- 책임
    - 무엇을 할 수 있는가 : 검증된 당첨 번호를 리턴
    - 무엇을 알고 있는가 : 입력된 당첨번호, 로또번호 범위
- 협력
    - 출력, 입력, 검증

### 보너스 번호 입력

- 책임
    - 무엇을 할 수 있는가 : 검증된 보너스 번호를 리턴
    - 무엇을 알고 있는가 : 입력된 보너스 번호, 당첨 번호
- 협력
    - 출력, 입력, 검증

### 당첨비교

- 책임
    - 무엇을 할 수 있는가 : 당첨이 몇개되었는지 판별
    - 무엇을 알고 있는가 : 로또 번호, 보너스 번호

### 출력

- 책임
    - 무엇을 할 수 있는가 : 사용자에게 문자열 출력
    - 무엇을 알고 있는가 : 출력할 값

### 입력

- 책임
    - 무엇을 할 수 있는가 : 사용자로부터 입력받음
    - 무엇을 알고 있는가 : 사용자 입력 값

### 검증

- 책임
    - 무엇을 할 수 있는가 : 사용자로 부터 입력받은 값 검증
    - 무엇을 알고 있는가 : 검증 조건

## 자료구조

도메인 협력간 메시지에 필요한 부가정보 = 인자  
협력 사용에 필요한 자료구조를 판단하여 기록해보았습니다.

자료구조도 도메인으로 사용해야하는지에 대한 고민이 있습니다.

### 로또 번호

- 로또 번호 6개 저장

### 당첨 번호 ➡️ 로또 번호 상속

- 당첨 번호 6개 저장

### 로또 번호 리스트

- 로또 번호들을 저장하는 리스트

### 로또 구매 금액

- 로또 구매금액 저장
- 구매 금액을 검증
- 로또 구매금액 만큼 반복하는 비즈니스 로직

### 보너스 번호

- 보너스 번호 저장

### 당첨 결과

- 당첨결과 저장

