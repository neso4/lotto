# 💰 로또

# 👨‍💻 기능 목록

## [ 입력 및 입력값 검증 기능 ( User Interface & Validation ) ]

> ### 💵 로또 구입 금액 입력 및 입력값 검증

- [x] 사용자에게 `로또 구입 금액` 입력 요구 문구를 출력한다.
- [x] 사용자에게 `로또 구입 금액`을 입력받는다.
    - [x] 금액이 비어있는 값이 아님을 확인한다.
    - [x] 금액의 앞 뒤에 공백이 포함되어 있는지 확인한다.
        - [x] 공백이 앞 뒤에 포함되어 있을 경우, 공백을 제거한다.
        - [x] 공백이 글자 중간에 포함되어 있을 경우, 공백을 제거해 공백 사이를 이어준다.
    - [x] 금액이 숫자 형식인지 확인한다.
    - [x] 금액이 1000 단위로 나누어 떨어지지 않는지 확인한다.
- [x] 위 경우를 만족하지 못하는 경우 `IllegalArgumentException`을 호출하고,
  <br>다시 `로또 구입 금액` 입력 요구 문구를 출력한 뒤, `로또 구입 금액`을 입력받는다.
  <br><br>

> ### 🎰 당첨 번호 입력 및 입력값 검증

- [x] 사용자에게 `당첨번호 6개` 입력 요구 문구를 출력한다.
- [x] 사용자에게 `당첨번호 6개`를 입력받는다.
    - [x] 당첨번호 입력값이 비어있는 값이 아님을 확인한다.
    - [x] 각 번호는 쉼표(,)를 기준으로 구분한다.
        - [x] 입력값이 쉼표(,)를 포함하는지 확인한다.
        - [x] 입력값의 끝 값에 쉼표(,)가 있는지 확인한다.
            - [x] 끝 값의 쉼표(,)를 제거해준다.
        - [x] 쉼표(,)의 개수가 5개인지 확인한다.
        - [x] 쉼표 사이에 빈 내용이 없는지 확인한다.
        - [x] 쉼표로 구분된 입력값들에 공백(" ")이 포함되어있는 입력값이 있는지 확인한다.
            - [x] 각 번호 앞 뒤에 공백이 있다면 공백을 제거한다.
            - [x] 각 번호 값 중간에 공백이 있는 경우, 공백을 제거하고 공백 앞 부분과 뒷 부분을 붙인다.
    - [x] 각 번호 입력값들이 숫자 형식인지 확인한다.
    - [x] 각 번호의 입력값들이 입력 최댓값 혹은 최솟값을 벗어나는지 검사한다.
      ( `Integer.MAX_VALUE` 보다 크거나, `Integer.MIN_VALUE` 보다 작은지 확인한다. )
    - [x] 각 번호가 중복이 되지 않는지 검사한다.
    - [x] 각 번호가 1 ~ 45 사이의 숫자 값인지 확인한다.
- [x] 위 경우를 만족하지 못하는 경우 `IllegalArgumentException`을 호출하고,
  <br>다시 `당첨번호 6개` 입력 요구 문구를 출력하고, `당첨번호 6개`을 입력받는다.
  <br><br>

> ### 🎯 보너스 번호 입력 및 입력값 검증

- [x] 사용자에게 `보너스 번호` 입력 요구 문구를 출력한다.
- [x] 사용자에게 `보너스 번호`를 입력받는다.
    - [x] 번호가 비어있는 값이 아님을 확인한다.
    - [x] 번호에 공백(" ")이 포함되어 있는지 확인한다.
        - [x] 번호의 앞 뒤에 공백이 있다면 공백을 제거한다.
        - [x] 번호 값 중간에 공백이 있을 경우, 공백을 제거하고 공백 앞 부분과 뒷 부분을 붙인다.
    - [x] 번호가 숫자 형식인지 확인한다.
    - [x] 각 번호의 입력값들이 입력 최댓값 혹은 최솟값을 벗어나는지 검사한다.
      ( `Integer.MAX_VALUE` 보다 크거나, `Integer.MIN_VALUE` 보다 작은지 확인한다. )
    - [x] 1 ~ 45 사이의 숫자인지 확인한다.
    - [x] 전에 입력받은 당첨번호 6개와 중복되지 않는지 확인한다.
- [x] 위 경우를 만족하지 못하는 경우 `IllegalArgumentException`을 호출하고,
  <br>다시 `보너스 번호` 입력 요구 문구를 출력하고, `보너스 번호`을 입력받는다.

## [ 비즈니스 로직 ( Business Logic ) ]

> ### 사용자 로또 번호 랜덤 생성

- [x] 사용자에게 금액을 입력받고, 그 금액을 로또 금액으로 나눈 개수 만큼의 로또를 발행한다.
    - [x] 로또는 로또 번호 6개로 이루어져 있다.
        - [x] 로또 번호 6개는 1 ~ 45 이내의 숫자여야 한다.
        - [x] 로또 번호 6개는 각각 중복되지 않는다.

> ### 당첨 로또와 사용자 로또 번호의 비교

- [x] 사용자 로또 번호와 당첨 로또를 비교하여, 당첨 여부 통계를 낸다.
    - [x] 당첨 여부 통계는 유저의 로또 중 1등 ~ 5등 로또가 각각 몇개인지를 나타낸다.
    - [x] 당첨 여부 통계는 구입 금액 대비 수익률을 나타낸다.
    - [x] 당첨 로또와 사용자 로또 번호를 비교하여 등수를 나타낼 수 있다.
        - [x] 3개 일치하는 경우 (5000원),<br>4개 일치하는 경우(50,000원),<br>5개 일치 하는 경우(1,500,000원),<br>5개 일치 및 보너스 번호 일치 (
          30,000,000원),<br>
          6개 일치(2,000,000,000원)로 계산한다.
        - [x] 수익률은 소수점 둘째 자리에서 반올림한다.

## [ 출력 ]

> ### 구매한 로또 수량 및 내용 출력

- [x] 발행한 로또 수량을 출력한다.
- [x] 로또 수량만큼 로또를 생성한 뒤, 각 로또를 출력한다.
    - [x] 로또 숫자는 오름차순으로 정렬해서 출력한다.
      <br>

> ### 당첨 통계 출력

- [x] 당첨 통계를 출력한다.
    - [x] 유저의 로또 중 1등 ~ 5등 로또가 각각 몇개인지를 출력한다.
    - [x] 유저의 구입 금액 대비 수익률을 나타낸다.
        - [x] 소수점 둘째 자리에서 반올림해서 나타낸다.
          <br>

> ### 에러 상황 출력

- [x] 예외 상황 시 (`IllegalArgumentException`, `IllegalStateException`과 같은 경우)
  <br> 에러 문구를 출력한다.
    - [x] 에러 문구는 "[ERROR]"로 시작한다.

## 🎒 **패키지 구조**

```bash
 lotto
    ├── Application.java
    ├── constant
    │   ├── LotteryRankConstant.java
    │   └── LottoConstant.java
    ├── controller
    │   └── LottoController.java
    ├── domain
    │   ├── BonusNumber.java
    │   ├── LotteryResult.java
    │   ├── Lotto.java
    │   ├── LottoNumber.java
    │   ├── Lottos.java
    │   ├── UserLottoRanks.java
    │   ├── UserMoney.java
    │   ├── WinningLottoNumbers.java
    │   ├── constant
    │   │   ├── NumberConstant.java
    │   │   └── RankDifferenceConstant.java
    │   ├── exception
    │   │   └── LottoInputException.java
    │   └── message
    │       └── LottoInputExceptionMessage.java
    ├── dto
    │   ├── LottoNumbers.java
    │   └── UserLottoGameResult.java
    ├── service
    │   ├── LottoService.java
    │   └── util
    │       └── LottoGenerator.java
    └── view
        ├── InputView.java
        ├── OutputView.java
        ├── constant
        │   ├── InputConstant.java
        │   └── OutputConstant.java
        ├── exception
        │   ├── BonusNumberInputException.java
        │   ├── UserMoneyInputException.java
        │   └── WinningLottoNumbersInputException.java
        ├── message
        │   ├── OutputMessage.java
        │   └── exception
        │       ├── BonusNumberInputExceptionMessage.java
        │       ├── UserMoneyInputExceptionMessage.java
        │       └── WinningLottoNumbersInputExceptionMessage.java
        ├── parser
        │   └── InputParser.java
        └── validator
            ├── BonusNumberInputValidator.java
            ├── UserMoneyInputValidator.java
            └── WinningLottoNumbersInputValidator.java
```

## 🎰 **실행 결과 예시**

#### 1-1. 구입금액 입력 ( 올바르지 않은 입력값 )

```
구입금액을 입력해 주세요.
> a
[ERROR] 구입금액은 숫자 형식의 입력이어야 합니다.
구입금액을 입력해 주세요.
> 
[ERROR] 비어있는 입력값 입니다.
구입금액을 입력해 주세요.
> 3500
[ERROR] 구입금액이 로또 금액으로 나누어 떨어지지 않습니다.
```

#### 1-2-1. 구입금액 입력 ( 올바른 입력값 )

```
구입금액을 입력해 주세요.
> 5000

5개를 구매했습니다.
[24, 28, 30, 33, 41, 43]
[14, 24, 28, 31, 39, 44]
[1, 6, 22, 26, 28, 30]
[12, 25, 38, 39, 40, 41]
[6, 14, 15, 22, 25, 30]

당첨 번호를 입력해 주세요.
> 
```

#### 1-2-2. 구입금액 입력 ( 공백 포함 입력값 )

```
구입금액을 입력해 주세요.
> 3   0 0 0

3개를 구매했습니다.
[2, 14, 18, 22, 26, 28]
[22, 23, 25, 26, 35, 38]
[2, 3, 19, 25, 26, 42]

당첨 번호를 입력해 주세요.
```

#### 2-1. 당첨금액 입력 ( 올바르지 않은 입력값 )

```
당첨 번호를 입력해 주세요.
> 
[ERROR] 비어있는 입력값 입니다.
당첨 번호를 입력해 주세요.
> 1,2,3,4,5,a
[ERROR] 당첨번호가 숫자 형식의 입력이 아닙니다.
당첨 번호를 입력해 주세요.
> 1,2,3,4,5,50
[ERROR] 로또 번호는 1부터 45 사이의 숫자여야 합니다.
당첨 번호를 입력해 주세요.
> 1029319232212,1,2,3,4,5
[ERROR] 입력된 당첨번호 중 입력값의 범위를 초과하는 값이 존재합니다.
당첨 번호를 입력해 주세요.
> 1,2,3,4
[ERROR] 입력된 당첨번호가 6개가 아닙니다.
```

#### 2-2-1. 당첨금액 입력 ( 올바른 입력값 )

```
당첨 번호를 입력해 주세요.
> 3,11,16,20,34,1

보너스 번호를 입력해 주세요.
```

#### 2-2-2. 당첨금액 입력 ( 공백 포함 입력값 )

```
당첨 번호를 입력해 주세요.
> 1   ,  2  , 42 , 4  3, 5,   7

보너스 번호를 입력해 주세요.
> 
```

#### 3-1. 보너스 번호 입력 ( 올바르지 않은 입력값 )

```
당첨 번호를 입력해 주세요.
> 1,2,3,4,5,6

보너스 번호를 입력해 주세요.
> a
[ERROR] 보너스 숫자는 숫자 형식의 입력이어야 합니다.
보너스 번호를 입력해 주세요.
> 19238098123
[ERROR] 보너스 숫자 입력이 입력값의 범위를 초과합니다.
보너스 번호를 입력해 주세요.
> 48
[ERROR] 로또 번호는 1부터 45 사이의 숫자여야 합니다.
보너스 번호를 입력해 주세요.
> 2
[ERROR] 보너스 숫자가 당첨 숫자와 중복됩니다.
보너스 번호를 입력해 주세요.
> 5
[ERROR] 보너스 숫자가 당첨 숫자와 중복됩니다.
보너스 번호를 입력해 주세요.
> 
```

#### 3-2-1. 보너스 번호 입력 ( 올바른 입력값 )

```
당첨 번호를 입력해 주세요.
> 1,2,3,4,5,6

보너스 번호를 입력해 주세요.
> 7
```

#### 3-2-2. 보너스 번호 입력 ( 공백 포함 입력값 )

```
당첨 번호를 입력해 주세요.
> 30,20,10,5,15,27

보너스 번호를 입력해 주세요.
>      8   
```

#### 4-1. 당첨 결과 ( 1등 당첨 )

```
구입금액을 입력해 주세요.
> 3000

3개를 구매했습니다.
[1, 3, 4, 9, 19, 23]
[5, 8, 17, 21, 37, 40]
[13, 15, 22, 29, 32, 40]

당첨 번호를 입력해 주세요.
> 1,3,4,9,19,23

보너스 번호를 입력해 주세요.
> 30

당첨 통계
---
3개 일치 (5,000원) - 0개
4개 일치 (50,000원) - 0개
5개 일치 (1,500,000원) - 0개
5개 일치, 보너스 볼 일치 (30,000,000원) - 0개
6개 일치 (2,000,000,000원) - 1개
총 수익률은 66,666,666.7%입니다.
```

#### 4-2. 당첨 결과 ( 2등 당첨 )

```
구입금액을 입력해 주세요.
> 4000

4개를 구매했습니다.
[3, 12, 24, 33, 37, 42]
[4, 19, 20, 24, 39, 41]
[12, 14, 23, 25, 29, 34]
[1, 9, 12, 24, 28, 38]

당첨 번호를 입력해 주세요.
> 3,12,24,33,37,45

보너스 번호를 입력해 주세요.
> 42

당첨 통계
---
3개 일치 (5,000원) - 0개
4개 일치 (50,000원) - 0개
5개 일치 (1,500,000원) - 0개
5개 일치, 보너스 볼 일치 (30,000,000원) - 1개
6개 일치 (2,000,000,000원) - 0개
총 수익률은 750,000.0%입니다.
```

#### 4-3. 당첨 결과 ( 3등 당첨 )

```
구입금액을 입력해 주세요.
> 5000

5개를 구매했습니다.
[1, 5, 13, 18, 22, 24]
[1, 7, 9, 11, 36, 39]
[7, 13, 14, 32, 36, 37]
[7, 27, 28, 31, 37, 40]
[14, 16, 23, 34, 40, 41]

당첨 번호를 입력해 주세요.
> 1,5,13,18,22,45

보너스 번호를 입력해 주세요.
> 44

당첨 통계
---
3개 일치 (5,000원) - 0개
4개 일치 (50,000원) - 0개
5개 일치 (1,500,000원) - 1개
5개 일치, 보너스 볼 일치 (30,000,000원) - 0개
6개 일치 (2,000,000,000원) - 0개
총 수익률은 30,000.0%입니다.
```

#### 4-4. 당첨 결과 ( 4등 당첨 )

```
구입금액을 입력해 주세요.
> 2000

2개를 구매했습니다.
[6, 10, 11, 23, 32, 39]
[13, 16, 26, 27, 38, 45]

당첨 번호를 입력해 주세요.
> 6,10,11,23,44,45

보너스 번호를 입력해 주세요.
> 15

당첨 통계
---
3개 일치 (5,000원) - 0개
4개 일치 (50,000원) - 1개
5개 일치 (1,500,000원) - 0개
5개 일치, 보너스 볼 일치 (30,000,000원) - 0개
6개 일치 (2,000,000,000원) - 0개
총 수익률은 2,500.0%입니다.
```

#### 4-5. 당첨 결과 ( 5등 당첨 )

```
구입금액을 입력해 주세요.
> 1000

1개를 구매했습니다.
[5, 11, 17, 18, 19, 40]

당첨 번호를 입력해 주세요.
> 5,11,17,43,44,45

보너스 번호를 입력해 주세요.
> 42

당첨 통계
---
3개 일치 (5,000원) - 1개
4개 일치 (50,000원) - 0개
5개 일치 (1,500,000원) - 0개
5개 일치, 보너스 볼 일치 (30,000,000원) - 0개
6개 일치 (2,000,000,000원) - 0개
총 수익률은 500.0%입니다.
```

#### 4-5. 당첨 결과 ( 꽝 )

```
구입금액을 입력해 주세요.
> 6000

6개를 구매했습니다.
[21, 24, 38, 39, 40, 41]
[5, 17, 21, 26, 27, 32]
[17, 21, 24, 26, 28, 29]
[8, 13, 17, 18, 30, 42]
[10, 12, 15, 16, 33, 35]
[24, 26, 28, 33, 35, 42]

당첨 번호를 입력해 주세요.
> 1,3,5,7,9,11

보너스 번호를 입력해 주세요.
> 13

당첨 통계
---
3개 일치 (5,000원) - 0개
4개 일치 (50,000원) - 0개
5개 일치 (1,500,000원) - 0개
5개 일치, 보너스 볼 일치 (30,000,000원) - 0개
6개 일치 (2,000,000,000원) - 0개
총 수익률은 0.0%입니다.
```