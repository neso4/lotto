# 로또 요구사항 분석

1. 입력
    - 구입 금액을 1000 단위로 입력 받는다.
    - 이때, 1000원으로 나누어 떨어지지 않는다면? 예외처리한다.
    - 당첨 번호를 입력 받는다,(번호는 쉼표로 구준)
    - 보너스 번호를 입력받는다.
    - 입력 예외처리는 ```IllegalArgumentException```을 발생 시키고 "[ERROR]"로 시작하는 에러 메세지 출력한다.
    - 이전과는 달리 에러 메세지 출력 후 그 부분부터 입력을 "다시 받는다".

2. 출력
    - 발행한 로또 수량을 출력한다.
    - 로또 번호는 "오름차순"으로 정렬한다.
    - 당첨 내역을 출력한다.
        - 3개 일치 (5000원)
        - 4개 일치 (50000원)
        - 5개 일치(1500000원)
        - 5개 일치 + 보너스 번호 일치(30000000원)
        - 6개 일치 (2천만원)
    - 수익률을 출력한다(소수점 둘째 자리에서 반올림)

3. 프로그래밍 요구사항
    - 들여쓰기는 2까지만
    - 3항 연산자 XXX
    - 메소드는 최대한 한 가지 일만 하도록 작게(15라인이 넘어가지않도록)
    - else 사용 금지
    - Enum을 활용하여 구현한다.
    - 도메인 로직에 단위 테스트를 구현한다.(단, UI로직은 제외)
    - 핵심 로직을 구현하는 도메인 코드와 UI를 담당하는 로직을 분리하여 구현한다.
    - 주어진 Lotto 클래스를 활용해 구현한다.
        - numbers의 접근 제어자 변경x
        - Lotto에 속성을 추가할 수 없다.(일급 컬렉션으로 구현)
        - Lotto의 패키지 변경은 허용!
    - 값을 하드 코딩 하지않는다(상수를 만들고 이를 활용하는 형식으로 구현)
    - 구현 순서도 컨벤션이다( 클래스를 상수,멤버 변수, 생성자, 메서드 순으로 구현하도록 하자)
    - 기능 목록을 꾸준히 재검토하며 업데이트 한다.
    - 변수 이름에 자료형은 사용하지 않는다.

# 기능별 구현 목록

1. domain
    - [x] Lotto 클래스
        - [x] 생성자 : 사용자 인자로 들어온 숫자들에 대해 유효성 검증, 오름차순을 한다.
        - [x] 1~45까지 숫자인지 검증하는 기능
        - [x] 중복되는 숫자가 존재하는지 검증하는 기능
        - [x] 6자릿수인지 검증하는 기능
        - [x] 오름 차순으로 정렬하는 기능.
        - [x] 인자로들어온 숫자를 Lotto클래스에서 포함하는지 알아내는 기능
        - [x] 다른 로또와 비교했을때, 일치하는 갯수를 얻는 기능

    - [x] Bonus 클래스
        - [x] 보너스 번호 속성을 가진다.
        - [x] 생성자 : 유효성을 검증하고, 보너스 번호를 초기화한다.
        - [x] 1~45까지 숫자인지 검증하는 기능

    - [x] WiningLottoNumbers 클래스
        - [x] 당첨 로또 번호와 보너스 번호를 갖는다.
        - [x] 생성자 : 보너스 번호와 로또 번호가 중복되는지를 검증 후 초기화
        - [x] 보너스 번호와 로또 번호가 중복되는지 검증
        - [x] 당첨 갯수를 리턴하는 기능(일치하는 갯수를 반환하는 기능)
        - [x] 보너스볼 당첨인지 아닌지 리턴하는 기능

    - [x] Payment 클래스
        - [x] 사용자가 입력한 돈을 속성으로 가진다.
        - [x] 생성자 : 유효성을 검증하고, 속성을 초기화한다.
        - [x] 지불한 돈이 1000으로 나누어 떨어지는지 검증하는 기능
        - [x] 지불한 돈이 최소 1000원을 넘기는지 검증하는 기능
        - [x] 지불한 돈이 10만원이 넘는지 검증(법적으로 한번에 10만원밖에 구매 못한다.)
        - [x] 구매할 수 있는 로또의 갯수를 리턴한다.

    - [x] LottoTickets 클래스
        - [x] 속성으로 List<Lotto> 와 로또의 개수를 가진다.
        - [x] 생성자 : 지불한 돈을 입력받고, 구매가능한만큼 Lotto리스트를 채운다.
        - [x] 로또를 구매하는 기능
        - [x] 각 로또들의 당첨 갯수 및 보너스 번호 결과를 알아낸다.

    - [x] LottoGenerator 클래스
        - [x] 랜덤한 번호를 생성하는 기능(주어진 라이브러리를 활용)

    - [x] LottoRank enum
        - [x] 1등부터 5등까지의 당첨 메세지, 상금, 당첨 번호
        - [x] 보너스 여부와 당첨 갯수를 통해 결과를 도출하는 기능

    - [x] LottoBuyer 클래스
        - [x] Payment, LottoTickets 을 가진다.
        - [x] 해당 구매자의 수익률을 구한다.

    - [x] InputParser 추상클래스
        - [x] 입력을 필요한 형태로 파싱하는 기능(추상메서드)
        - [x] 최소한의 검증 작업(정수로 이루어져 있는지 등)
        - [x] 공백을 허용하기 위해 공백을 제거하는 기능
        - [x] 예외를 발생시키는 기능

    - [x] LottoInputParser InputParser 구현클래스
        - [x] 입력을 쉼표 기준으로 분할하여 List<Integer> 형태로 파싱하는 기능
        - [x] 정수와 쉼표로 이루어져 있는지 검증.

    - [x] BonusAndPaymentInputParser InputParser 구현 클래스
        - [x] int 형태로 파싱(int 최대 범위를 벗어나면 예외처리)
        - [x] 정수로 이루어져 있는지 검증.


2. UI(View)
    - [x] InputView
        - [x] 입력을 담당하는 기능(주어진 라이브러리 활용)

    - [x] OutputView
        - [x] 입력을 요청하는 내용을 출력하는 기능
        - [x] 구매한 로또를 출력하는 기능
        - [x] 결과를 출력하는 기능

3. Controller
    - [x] LottoController
        - [x] 입력을 받고, 각 도메인을 초기화한다.
        - [x] 생성된 로또 번호들을 View에 전달한다.
        - [x] 생성된 로또 번호들을 View에 전달한다.
        - [x] 당첨 결과 및 수익률을 View에 전달한다.

4. 각 클래스에 필요한 상수값들은 따로 enum으로 관리.

# 테스트 코드

- [x] 각 도메인의 테스트코드를 작성한다.
    - [x] Lotto 테스트
        - [x] 1~45까지 숫자인지 검증하는 기능
        - [x] 중복되는 숫자가 존재하는지 검증하는 기능
        - [x] 6자릿수인지 검증하는 기능
        - [x] 인자로들어온 숫자를 Lotto클래스에서 포함하는지 알아내는 기능
        - [x] 다른 로또와 비교했을때, 일치하는 갯수를 얻는 기능

    - [x] Bonus 테스트
        - [x] 1~45까지 숫자인지 검증하는 기능

    - [x] WiningLottoNumbers 테스트
        - [x] 보너스 번호와 로또 번호가 중복되는지를 검증
        - [x] 당첨 갯수를 리턴하는 기능
        - [x] 보너스볼 당첨인지 아닌지 리턴하는 기능

    - [x] Payment 테스트
        - [x] 지불한 돈이 1000으로 나누어 떨어지는지 검증하는 기능
        - [x] 지불한 돈이 최소 1000원을 넘기는지 검증하는 기능
        - [x] 지불한 돈이 십만원을 넘는지 검증하는 기능
        - [x] 구매할 수 있는 로또의 갯수를 알아내는 기능

    - [x] LottoBuyer 테스트
        - [x] 수익률을 구하는 기능 테스트
      
    - [x] LottoRank 테스트
        - [x] 로또 번호와 당첨 번호를 통해 당첨결과를 도출하는 기능

    - [x] LottoInputParser 테스트
        - [x] int범위를 넘어가면 예외를 발생하는지 테스트
        - [x] 정수와 쉼표로 이루어져 있는지 검증하는 기능 테스

    - [x] BonusAndPaymentInputParser 테스트
        - [x] int 최대 범위를 벗어나면 예외처리를 하는지 테스트
        - [x] 정수가 아닌 값들은 예외처리를 하는지 테스트